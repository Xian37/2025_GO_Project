# 🎮 虛擬形象與等級系統

## 功能概述

全新的虛擬形象與等級系統讓聊天室更有趣、更有成就感！透過互動獲得經驗值、升級、解鎖成就和稱號。

---

## ⭐ 核心功能

### 1. 等級系統 📊

#### 經驗值獲取
不同的互動行為會獲得不同的經驗值：

| 行為 | 經驗值 |
|------|--------|
| 發送文字訊息 | +10 EXP |
| 發送圖片 | +15 EXP |
| 發送語音 | +20 EXP |
| 發起投票 | +25 EXP |
| 發起搶答 | +25 EXP |
| 解鎖成就 | +50 EXP |

#### 等級上限
- 目前最高等級：**Lv.30**
- 每級所需經驗逐漸增加
- Lv.1→Lv.2: 100 EXP
- Lv.10→Lv.11: 3350 EXP
- Lv.20→Lv.21: 11600 EXP
- Lv.29→Lv.30: 23300 EXP

#### 升級獎勵
- 🎉 升級動畫效果
- 💬 系統公告通知
- 🏆 可能解鎖新稱號
- 📊 等級徽章顯示

### 2. 稱號系統 🎖️

#### 可獲得的稱號

| 稱號 | 獲得條件 | 特色 |
|------|----------|------|
| 新手 | 達到 Lv.1 | 初始稱號 |
| 活躍者 | 發送 50 條訊息 | 粉紅色徽章 |
| 老手 | 發送 200 條訊息 | 進階稱號 |
| 大師 | 達到 Lv.10 | 紫色漸層 |
| 傳奇 | 達到 Lv.20 | 金色光芒 |
| 冠軍 | 發送 500 條訊息 | 最高榮譽 |

#### 稱號顯示
- 顯示在用戶名稱旁邊
- 粉紅色漸層徽章
- 滑鼠懸停顯示獲得條件

### 3. 成就系統 🏆

#### 12 項成就挑戰

**聊天相關：**
- 💬 初次發言 - 發送第一條訊息
- 🗣️ 健談 - 發送 10 條訊息
- 💭 話癆 - 發送 50 條訊息
- 🎤 聊天大師 - 發送 100 條訊息

**等級相關：**
- ⭐ 小有名氣 - 達到 Lv.5
- 🌟 知名人士 - 達到 Lv.10
- ✨ 傳奇人物 - 達到 Lv.20

**功能使用：**
- 🗳️ 民主先鋒 - 發起一次投票
- 🧠 出題者 - 發起一次搶答
- 😊 反應靈敏 - 發送 10 個表情回應
- 🎙️ 語音達人 - 使用 5 次語音訊息
- 📷 攝影師 - 發送 10 張圖片

#### 成就獎勵
- 解鎖時獲得 **+50 EXP**
- 系統公告通知
- 成就徽章永久保存
- 個人資料頁面展示

### 4. 個人資料頁面 👤

#### 資料展示
- **頭像** - 大尺寸顯示
- **暱稱** - 加粗顯示
- **等級徽章** - 當前等級
- **稱號** - 當前稱號（如有）
- **經驗條** - 視覺化進度

#### 統計數據
- 📊 **當前等級** - 顯示 Lv.X
- 💬 **訊息總數** - 累計發送的訊息
- 🎖️ **徽章數量** - 已解鎖的成就數

#### 成就列表
- 顯示所有 12 項成就
- 已完成：綠色邊框 + ✓ 標記
- 進行中：顯示進度條
- 未開始：半透明顯示

#### 徽章牆
- 網格式展示所有徽章
- 已解鎖：正常顯示 + 懸停說明
- 未解鎖：灰暗顯示

---

## 🎨 視覺設計

### 等級徽章
- **背景**：紫色漸層（#667eea → #764ba2）
- **樣式**：圓角矩形 + 陰影
- **文字**：白色粗體
- **位置**：用戶名稱右側

### 稱號徽章
- **背景**：粉紅漸層（#f093fb → #f5576c）
- **樣式**：圓角矩形
- **文字**：白色
- **位置**：等級徽章右側

### 經驗條
- **背景**：半透明白色
- **填充**：紫色漸層
- **高度**：6px
- **動畫**：平滑過渡效果

### 升級動畫
- **效果**：彈跳式縮放
- **顏色**：紫色漸層背景
- **文字**：🎉 升級了！Lv.X
- **持續時間**：2 秒

---

## 💡 使用指南

### 查看個人資料
1. 點擊側邊欄的 **「👤 個人資料」** 按鈕
2. 查看等級、經驗、統計資料
3. 瀏覽成就進度和徽章牆

### 提升等級
1. **多發送訊息** - 每條 +10 EXP
2. **分享圖片** - 每張 +15 EXP
3. **使用語音** - 每次 +20 EXP
4. **發起互動** - 投票/搶答 +25 EXP
5. **解鎖成就** - 每個 +50 EXP

### 解鎖稱號
- 持續互動達到條件
- 自動檢測並解鎖
- 系統通知獲得新稱號
- 側邊欄和訊息顯示

### 完成成就
- 透過各種互動累積進度
- 達到目標自動解鎖
- 獲得經驗值獎勵
- 徽章牆永久展示

---

## 🎯 快速提升攻略

### 新手期（Lv.1-5）
**目標**：快速熟悉系統
- ✅ 發送 10 條訊息（解鎖「健談」成就）
- ✅ 嘗試發送圖片和語音
- ✅ 發起一次投票或搶答
- 📈 預計時間：30 分鐘
- 🎁 可達成：Lv.3-4

### 成長期（Lv.5-10）
**目標**：解鎖多項成就
- ✅ 發送 50 條訊息（解鎖「話癆」+ 「活躍者」稱號）
- ✅ 使用 5 次語音（解鎖「語音達人」）
- ✅ 發送 10 個表情（解鎖「反應靈敏」）
- 📈 預計時間：2-3 小時
- 🎁 可達成：Lv.8-10 + 2-3 個稱號

### 進階期（Lv.10-20）
**目標**：成為知名人士
- ✅ 發送 200 條訊息（解鎖「老手」稱號）
- ✅ 發送 10 張圖片（解鎖「攝影師」）
- ✅ 完成所有基礎成就
- 📈 預計時間：1-2 週
- 🎁 可達成：Lv.15-20 + 「大師」/「傳奇」稱號

### 大師期（Lv.20+）
**目標**：追求極致榮耀
- ✅ 發送 500 條訊息（解鎖「冠軍」稱號）
- ✅ 解鎖全部 12 項成就
- ✅ 達到 Lv.30 滿級
- 📈 預計時間：1 個月以上
- 🎁 最終成就：完美玩家

---

## 📊 經驗值計算

### 升到 Lv.10 需要
- 純聊天：約 **900 條訊息**
- 混合模式：約 **500 條訊息** + 圖片/語音
- 加上成就：約 **400 條訊息** + 8 個成就

### 升到 Lv.20 需要
- 純聊天：約 **7000 條訊息**
- 混合模式：約 **4000 條訊息** + 多媒體
- 加上成就：約 **3500 條訊息** + 所有成就

### 升到 Lv.30 需要
- 純聊天：約 **15000 條訊息**
- 混合模式：約 **8000 條訊息** + 多媒體
- 最佳組合：**7000 條訊息** + 所有成就 + 多樣互動

---

## 🎨 界面位置

### 側邊欄用戶資訊
- **位置**：側邊欄頂部，在線人數下方
- **顯示**：
  - 頭像（圓形，40x40px）
  - 暱稱 + 等級徽章 + 稱號
  - 經驗條（視覺化進度）
  - 經驗數值（X/Y EXP）

### 訊息中的等級顯示
- **位置**：每條訊息的用戶名稱後
- **顯示**：
  - 等級徽章（Lv.X）
  - 稱號徽章（如有）
- **效果**：漸層背景 + 陰影

### 個人資料按鈕
- **位置**：側邊欄，登出按鈕上方
- **圖示**：👤 個人資料
- **功能**：開啟個人資料 Modal

---

## 🔧 技術細節

### 資料儲存
所有數據儲存在瀏覽器 `localStorage`：
- `userLevel` - 當前等級
- `userExp` - 當前經驗值
- `userTitle` - 當前稱號
- `totalMessages` - 訊息總數
- `unlockedBadges` - 已解鎖徽章（JSON 陣列）
- `ach_[成就ID]` - 各成就進度

### 經驗值表
```javascript
const expTable = [
  100, 200, 350, 550, 800,      // Lv 1-5
  1100, 1450, 1850, 2300, 2800, // Lv 6-10
  3350, 3950, 4600, 5300, 6050, // Lv 11-15
  6850, 7700, 8600, 9550, 10550, // Lv 16-20
  11600, 12700, 13850, 15050, 16300, // Lv 21-25
  17600, 18950, 20350, 21800, 23300  // Lv 26-30
];
```

### 事件追蹤
每次互動都會觸發：
1. `onMessageSent(type)` - 記錄訊息
2. `addExp(amount)` - 增加經驗
3. `checkAchievements()` - 檢查成就
4. `checkTitles()` - 檢查稱號
5. `updateUserLevelUI()` - 更新 UI

---

## ❓ 常見問題

### Q: 經驗值會不會消失？
A: 所有數據儲存在瀏覽器，除非清除瀏覽器資料，否則永久保存。

### Q: 可以重置等級嗎？
A: 目前不支援。如需重置，請清除瀏覽器 localStorage。

### Q: 稱號可以選擇嗎？
A: 目前自動顯示最高等級的稱號，未來可能加入選擇功能。

### Q: 成就進度會同步嗎？
A: 目前僅儲存在本地，更換瀏覽器或電腦需要重新累積。

### Q: 有經驗加成嗎？
A: 目前沒有。未來可能加入活動期間雙倍經驗。

### Q: Lv.30 之後呢？
A: 目前 Lv.30 是上限。未來可能開放更高等級。

---

## 🎮 成就收集指南

### 快速成就（1 小時內）
- ✅ 初次發言
- ✅ 健談（10 條訊息）
- ✅ 民主先鋒（1 次投票）
- ✅ 出題者（1 次搶答）

### 中期成就（1 週內）
- ✅ 話癆（50 條訊息）
- ✅ 反應靈敏（10 個表情）
- ✅ 語音達人（5 次語音）
- ✅ 小有名氣（Lv.5）

### 長期成就（1 個月內）
- ✅ 聊天大師（100 條訊息）
- ✅ 攝影師（10 張圖片）
- ✅ 知名人士（Lv.10）
- ✅ 傳奇人物（Lv.20）

---

## 🚀 未來擴充計畫

- [ ] 每日任務系統
- [ ] 季度排行榜
- [ ] 限定稱號和徽章
- [ ] 經驗加成活動
- [ ] 好友對戰系統
- [ ] 虛擬商店（用等級兌換特效）
- [ ] 自訂頭像框
- [ ] 更多成就類別
- [ ] 公會/團隊系統
- [ ] 跨設備同步

---

**💫 開始你的冒險之旅！在聊天的同時，享受成長的樂趣！**
